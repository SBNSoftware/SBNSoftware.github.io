--
layout: page
title: ReleaseNotes10100303
toc: true
---

-----------------------------------------------------------------------------
| v10.10.03.03 | 13 Oct 2025 | [ReleaseNotes](ReleaseNotes10100303.html) |
| --- | --- | --- |



sbndcode v10_10_03_03 Release Notes
=======================================================================================

[List of sbndcode releases](List_of_SBND_code_releases.html)

Download instructions for [sbndcode v10_10_03_03](http://scisoft.fnal.gov/scisoft/bundles/sbnd/v10_10_03_03/sbndcode-v10_10_03_03.html)

Purpose
---------------------------------------------------

New features
---------------------------------------------------

Bug fixes
---------------------------------------------------

Updated dependencies
---------------------------------------------------

Supported qualifiers
---------------------------------------------------

Change List
==========================================
### Release Notes for [sbndcode] from v10_10_03_02 to v10_10_03_03
- PR #816: Add PTBEventDisplay.py for PTB data visualization
  - **Description**: Frugal PR, no harm to the software stack. It adds a python macro to make PTB plots as the one below. It uses as input TTrees generated by PTBAna.   ![EventDisplay_Run_18271_Subrun_1_Event_318296](https://github.com/user-attachments/assets/79c03db0-858c-48a5-9ca7-b1613fa17340)
  - **Labels**: trigger
  - **Reviewers**: maxdubnowski
  - **Assignees**: fjnicolas
- PR #838: initialize gate counter for both LLT & HLT with no metadata
  - **Description**: Quick PR to initialize some values written by the PTB decoder to default values. Without initialization, the LLT gate_counter value written by the decoder will give different results for the same input file each time it is run, making it more difficult to validate production workflows.
  - **Labels**: bug
  - **Reviewers**:
  - **Assignees**: tbwester
- PR #837: Update diffusion fcls to be consistent with detvar workflows
  - **Description**: Quick fix to the diffusion detector variation fcls: Update to add a unique product label as used in the other detector variation fcls. This also fixes a bug with the "no_diffusion" variation, where workflows with scrub stage as input will fail with a message like "The process name DetSim was previously used on these products."
  - **Labels**: bug, detsim
  - **Reviewers**: mrmooney
  - **Assignees**: tbwester
- PR #836: Migrate CRTGeoAlg to a service
  - **Description**: This PR does what it says on the tin. It migrates the `CRTGeoAlg` into an art service. This alg hosts a series of functions that act as intermediaries between the GDML and the Sim/Reco algs. They perform common functions and store information from the calibration service for easy access.  The alg implementation is sub-optimal as it a separate instance is initialised for every use case in some job fcls this can mean 4 or 5 separate instances (each producer or analyzer that utilises it). Its been on my list to migrate it for a while but I've never had the motivation / time. The motivation now is the implementation of the CRT calibration database interface will be made much easier by this alg being a service because we can override standard art service functions like 'preBeginRun'.  Note, this PR is purely the pre-step, the calibration database will come in a separate PR. Given the scope of this I wanted to functionalise the approach. This PR should be totally transparent. I have performed a variety of tests (including the inbuilt unit tests) and performed a series of `egrep`s to ensure I have covered all references to the alg. The full regression suite should help confirm I haven't missed anything. I have left a few legacy fcls without updating.  Requesting the RMs to review given this is purely architecture based, let me know if that is not appropriate.
  - **Labels**: maintenance
  - **Reviewers**:
  - **Assignees**: henrylay97
- PR #832: Fix pfp ordering when using SCE products
  - **Description**: Please provide a detailed description of the changes this pull request introduces.
  - **Labels**: bug
  - **Reviewers**:
  - **Assignees**: asanchezcastillo
- PR #830: Feature/trigger work nikki pr
  - **Description**: This includes updates to trigger code to include trigger emulation. Specifically this includes a new LArService that is called in both data and Monte Carlo analysis modules. The LArService include two functions originally from the data analyzer module (ConstructMonPulse and ConstructBinary response) and puts them in this general step that can be applied to both data and Monte Carlo. The functions have also been modified to work with data and Monte Carlo separately where needed. The data analyzer module now simply calls this LArService and the output matches the previous version. The Monte Carlo analyzer module calls this LArService too and now has an interface (in the analyzer module) that slices up the waveforms based on the triggers and consistent with the shorter 10us format of the data waveforms. These new triggered waveforms, the old triggered waveforms, a boolean of if the event passed/failed the trigger, and information to reconstruct the result of ConstructMonPulse (for the purposes of debugging during validation).
  - **Labels**: detsim, trigger
  - **Reviewers**: marcodeltutto, linyan-w
  - **Assignees**: npallat
- PR #822: Removing XA related ophit and downstream reco for sbndcode issue #821
  - **Description**: (Temporary) removal of XA related ophit and downstream reco for run1 nominal workflow. Related to[ issue 821](https://github.com/SBNSoftware/sbndcode/issues/821)
  - **Labels**: pds
  - **Reviewers**:
  - **Assignees**: linyan-w
- PR #815: Feature/aantonak corsika showerarea
  - **Description**: Please provide a detailed description of the changes this pull request introduces.  This PR changes the ShowerAreaExtension fcl parameter used in Corsika from 10 to 20 meters for two different simulation fcls: prodcorsika_proton_intime_sbnd.fcl and prodgenie_corsika_proton_rockbox_sbnd.fcl
  - **Labels**: simulation
  - **Reviewers**:
  - **Assignees**: aantonakis
- PR #841: Updates to CMakeLists
  - **Description**: Small update to CMakeLists: Nate reported that the GeoWrappers included in CMakeLists was giving build issues. I removed this (and a couple already commented out lines for housekeeping) and verified my MC and data analysis modules still build, run, and give expected results.
  - **Labels**: trigger
  - **Reviewers**:
  - **Assignees**: npallat

sbndcode sbndcode
---------------------------------------------------

* 2025-10-13  Nathaniel : Merge branch 'release/v10_10_03_03'
* 2025-10-13  Nathaniel : Now builds
* 2025-10-06  nathanielerowe : Merge pull request #841 from SBNSoftware/feature/Trigger_Small_Updates_Nikki
* 2025-10-06  Nikki Pallat : Updates to CMakeLists
* 2025-10-06  nathanielerowe : Merge pull request #815 from SBNSoftware/feature/aantonak_corsika_showerarea
* 2025-10-06  nathanielerowe : Merge branch 'develop' into feature/aantonak_corsika_showerarea
* 2025-10-06  nathanielerowe : Merge pull request #822 from SBNSoftware/bugfix_remove_xaophit
* 2025-10-06  nathanielerowe : Merge branch 'develop' into bugfix_remove_xaophit
* 2025-10-06  nathanielerowe : Merge pull request #830 from SBNSoftware/feature/TriggerWorkNikki-PR
* 2025-10-06  nathanielerowe : Merge branch 'develop' into feature/TriggerWorkNikki-PR
* 2025-10-06  nathanielerowe : Merge pull request #832 from SBNSoftware/bugfix/acastill_fixlightpropSCE
* 2025-10-06  nathanielerowe : Merge branch 'develop' into bugfix/acastill_fixlightpropSCE
* 2025-10-06  nathanielerowe : Merge pull request #836 from SBNSoftware/feature/hlay_crt_geo_alg_service
* 2025-10-06  nathanielerowe : Merge branch 'develop' into feature/hlay_crt_geo_alg_service
* 2025-10-06  nathanielerowe : Merge pull request #837 from SBNSoftware/bugfix/twester_diffusion_fcls
* 2025-10-06  nathanielerowe : Merge branch 'develop' into bugfix/twester_diffusion_fcls
* 2025-10-06  nathanielerowe : Merge pull request #838 from SBNSoftware/bugfix/twester_ptb_initialization
* 2025-10-06  nathanielerowe : Merge branch 'develop' into bugfix/twester_ptb_initialization
* 2025-10-06  nathanielerowe : Merge pull request #816 from SBNSoftware/feature/fnicolas_ptbeventdisplay
* 2025-10-06  nathanielerowe : Merge branch 'develop' into feature/fnicolas_ptbeventdisplay
* 2025-10-03  nathanielerowe : Merge branch 'develop' into bugfix_remove_xaophit
* 2025-10-03  Nikki Pallat : Bug fix: for incorrectly nested services fcl and updates to default fcl parameters
* 2025-10-03  Alejandro Sánchez Castillo : Comment out fm for XArapucas
* 2025-10-01  Thomas Wester : initialize gate counter for both llt & hlt
* 2025-10-01  Thomas Wester : update diffusion fcls to be consistent with detvar workflows
* 2025-10-01  Henry Lay : ...and more
* 2025-10-01  Henry Lay : More fcls caught in testing
* 2025-10-01  Henry Lay : CMake changes
* 2025-10-01  Henry Lay : Some lingering fcl references
* 2025-09-30  Henry Lay : Refactor usage of CRTGeoService + improve CMakeLists
* 2025-09-30  Henry Lay : Typo
* 2025-09-30  Henry Lay : Merge tag 'v10_10_03_02' into feature/hlay_crt_geo_alg_service
* 2025-09-29  Henry Lay : Will I ever get back to this? Probably not\!
* 2025-09-26  Alejandro Sánchez Castillo : Fix pfp ordering when using SCE products
* 2025-09-24  Nathaniel : Merge tag 'v10_10_03_02' into develop
* 2025-09-24  Nikki Pallat : verified the decoders can still run over raw data with the new changes
* 2025-09-24  Nikki Pallat : Corrections based on Jacob's comments on my PR, including default value changes, numPairsOverThreshold calculation, and saving MonPulse in the PMTDecoder
* 2025-09-22  Nikki Pallat : Updates to information saved in the event
* 2025-09-22  Nikki Pallat : Another update to CMakeLists
* 2025-09-22  Nikki Pallat : Update to CMakeLists
* 2025-09-22  Nikki Pallat : Apply TriggerWorkNikki changes on top of develop
* 2025-09-18  Linyan Wan : Temporarily resuming xa simulation
* 2025-09-17  Linyan Wan : Removal -> comments + comment out xa digitization
* 2025-09-17  Linyan Wan : Removing xa decoder
* 2025-09-16  Linyan Wan : Removing XA related ophit and downstream reco for sbndcode issue #821
* 2025-09-11  Alexander Antonakis : Changed the ShowerAreaExtension to 20 meters globally by modifying sbndcode/LArSoftConfigurations/gen/corsika_sbnd.fcl
* 2025-09-11  Francisco Javier Nicolás-Arnaldos : Add PTBEventDisplay.py for PTB data visualization
* 2025-09-07  Alexander Antonakis : modified prodgenie_corsika_proton_rockbox_sbnd.fcl to have the 20 m ShowerAreaExtension
* 2025-09-05  Alexander Antonakis : Changed the Corsika ShowerAreaExtension from 10 to 20 meters
* 2025-08-22  Henry Lay : Use data CRT geo alg in CRTAna
